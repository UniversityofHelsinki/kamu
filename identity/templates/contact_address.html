{% extends "base.html" %}
{% load i18n %}
{% load crispy_forms_tags %}

{% block content %}
  <form method='POST'>
  {% csrf_token %}
  <h1>{% trans "Contact addresses" %}</h1>
  <h2 id="email-list">{% trans "Email addresses" %}</h2>
  <table class="table" aria-describedby="email-list">
  <thead>
    <tr>
      <th scope="col">{% trans "Address" %}</th>
      <th scope="col">{% trans "Verified" %}</th>
      <th scope="col">{% trans "Priority" %}</th>
      <th scope="col">{% trans "Remove" %}</th>
    </tr>
  </thead>
  <tbody>
    {% for address in email_list %}
    <tr>
      <th scope="row">{{ address.address }}</th>
      <td>{% if address.verified %}{% trans "Verified" %}{% else %}<a href="{% url 'email-verify' address.pk %}" class="btn btn-primary btn-sm">{% trans "Verify" %}</a>{% endif %}</td>
      <td>{% if not forloop.first %}<button type="submit" name="email_up" value="{{ address.pk }}" class="btn btn-warning btn-sm">{% trans "Up" %}</button>{% endif %}
        {% if not forloop.last %}<button type="submit" name="email_down" value="{{ address.pk }}" class="btn btn-warning btn-sm">{% trans "Down" %}</button>{% endif %}</td>
      <td><button type="submit" name="email_remove" value="{{ address.pk }}" class="btn btn-danger btn-sm">{% trans "Remove" %}</button></td>
    </tr>
  {% endfor %}
  </tbody>
  </table>
  <h2 id="phone-list">{% trans "Phone numbers" %}</h2>
  <table class="table" aria-describedby="phone-list">
  <thead>
    <tr>
      <th scope="col">{% trans "Number" %}</th>
      <th scope="col">{% trans "Verified" %}</th>
      <th scope="col">{% trans "Priority" %}</th>
      <th scope="col">{% trans "Remove" %}</th>
    </tr>
  </thead>
  <tbody>
    {% for number in phone_list %}
    <tr>
      <th scope="row">{{ number.number }}</th>
      <td>{% if number.verified %}{% trans "Verified" %}{% else %}<a href="{% url 'phone-verify' number.pk %}" class="btn btn-primary btn-sm">{% trans "Verify" %}</a>{% endif %}</td>
      <td>{% if not forloop.first %}<button type="submit" name="phone_up" value="{{ number.pk }}" class="btn btn-warning btn-sm">{% trans "Up" %}</button>{% endif %}
        {% if not forloop.last %}<button type="submit" name="phone_down" value="{{ number.pk }}" class="btn btn-warning btn-sm">{% trans "Down" %}</button>{% endif %}</td>
      <td><button type="submit" name="phone_remove" value="{{ number.pk }}" class="btn btn-danger btn-sm">{% trans "Remove" %}</button></td>
    </tr>
  {% endfor %}
  </tbody>
  </table>
  </form>
  <h2>{% trans "Add a new contact" %}</h2>
  {% crispy form form.helper %}

{% endblock %}